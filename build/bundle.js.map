{"version":3,"file":"bundle.js","sources":["../index.js"],"sourcesContent":["'use strict';\r\n// import { data } from 'jquery';\r\n// import _ from 'lodash';\r\nimport resource from './src/resource.js';\r\n\r\n\r\nvar PopupManager = {\r\n\tzIndex: 2000,\r\n\tnextZIndex: function nextZIndex() {\r\n\t\treturn PopupManager.zIndex++;\r\n\t}\r\n};\r\nvar seed = 1;\r\n\r\nclass storeSteward {\r\n\tconstructor(Store) {\r\n\t\tthis.store = Store;\r\n\t}\r\n\tpush(value) {\r\n\t\t// console.log(this.store)\r\n\t\tif(this.store.length >3){\r\n\t\t\tthis.closeAll()\r\n\t\t}\r\n\t\tthis.store.push(value)\r\n\r\n\t}\r\n\tcloseAll() {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis.store.forEach((item, index) => {\r\n\t\t\t\tthis.closeSingle(item.id)\r\n\t\t\t})\r\n\t\t\tresolve(true)\r\n\r\n\t\t})\r\n\t}\r\n\tcloseSingle(id, userOnClose) {\r\n\t\tthis.store.forEach((item, i) => {\r\n\t\t\tif (id === item.id) {\r\n\t\t\t\tif (typeof userOnClose === 'function') {\r\n\t\t\t\t\tuserOnClose(item);\r\n\t\t\t\t}\r\n\t\t\t\tthis.store.splice(i, 1); // remove message\r\n\t\t\t\tdocument.body.removeChild(document.getElementById(id));\r\n\t\t\t\treturn false;\r\n\r\n\t\t\t}\r\n\r\n\t\t})\r\n\t}\r\n\r\n}\r\n// class msgObj{\r\n\t\r\n// }\r\nlet instances = new storeSteward([]);\r\n\r\n\r\n\r\nfunction isObject(obj) {\r\n\treturn obj !== null && typeof obj === 'object'\r\n}\r\n//\tvar _toString = Object.prototype.toString;\r\n//\tExposure to message objects is not recommended, and is destroyed for more powerful boxes\r\n\r\nclass MessageClass {\r\n\tconstructor(option){\r\n    //  if(!option) return false\r\n    this.option= {};\r\n\tthis.defaultOption = {\r\n\t\ttype: 'info',\r\n\t\tanimationDuration: 2.5,\r\n\t\tegoClass: '',\r\n\t\tcontext: '',\r\n\t\tdestroy: ''\r\n\t};\r\n\t// this.establish()\r\n}\r\n\r\n\talteration(option){\r\n     this.option= Object.assign({}, this.defaultOption,option)\r\n\t this.establish()\r\n\t}\r\n\t\r\n\t// reate\r\n    establish(){\r\n\t\tlet option =this.option\r\n\tif (!option.context) throw ('[message] If you use the object argument form, be aware!\"Context\" is required')\r\n\t\tlet id = 'message_' + (seed++),\r\n\t\tcardinalNumber = parseInt(instances.store.length / 10);\r\n\t\tfunction MessageConstructor(data) {\r\n\t\t\tlet div = document.createElement('div');\r\n\t\t\tdiv.className = (option.egoClass || 'alert-' + option.type) + ' alert  nan-alert';\r\n\t\t\tdiv.role = 'alert';\r\n\t\t\tdiv.id = id;\r\n\t\t\tdiv.innerText = option.context;\r\n\t\r\n\t\t\tdiv.style.zIndex = PopupManager.nextZIndex();\r\n\t\t\treturn {\r\n\t\t\t\tdom: div,\r\n\t\t\t\tid: id,\r\n\t\t\t\tdomID: '#' + id\r\n\t\t\t};\r\n\t\t}\r\n\t\t\t//\t Generate and add to the body...\r\n\t  let messageBox = new MessageConstructor();\r\n\t  document.body.appendChild(messageBox.dom);\r\n\t  instances.push(messageBox);\r\n\t  let element = document.getElementById(id);\r\n\t element.style.animationDelay = cardinalNumber+ 's';\r\n\t element.style.animationDuration = cardinalNumber + option.animationDuration +0.8+ 's';\r\n\t element.className += ' entranceBox';\r\n\t}\r\n}\r\n\r\nlet defaultOption = {\r\n\ttype: 'info',\r\n\tanimationDuration: 2.5,\r\n\tegoClass: '',\r\n\tcontext: '',\r\n\tdestroy: ''\r\n};\r\nlet MessageBox=  new MessageClass()\r\nlet message =function (...val){\r\n\t\tlet option = Object.assign({}, defaultOption, (isObject(val[0]) ? val[0] : {\r\n\t\ttype: val[0],\r\n\t\tcontext: val[1]\r\n\t}));\r\n\tMessageBox.alteration(option)\r\n}\r\n    new Array('success', 'warning', 'info', 'error').map((item,index)=>{\r\n\tmessage[item]=function(value){\r\n\t\tMessageBox.alteration({type:item,context:value});\r\n\t}\r\n})\r\n\r\nexport  default   message\r\n\r\n\r\n\r\n\r\n"],"names":["PopupManager","zIndex","nextZIndex","seed","storeSteward","constructor","Store","store","push","value","length","closeAll","Promise","resolve","reject","forEach","item","index","closeSingle","id","userOnClose","i","splice","document","body","removeChild","getElementById","instances","isObject","obj","MessageClass","option","defaultOption","type","animationDuration","egoClass","context","destroy","alteration","Object","assign","establish","cardinalNumber","parseInt","MessageConstructor","data","div","createElement","className","role","innerText","style","dom","domID","messageBox","appendChild","element","animationDelay","MessageBox","message","val","Array","map"],"mappings":"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"}